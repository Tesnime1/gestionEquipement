<!-- templates/fragments/role-script.html -->
<th:block th:fragment="script">
  <script th:inline="javascript">
      // Variable globale disponible partout
      window.userRole = /*[[${role}]]*/ 'ROLE_UNKNOWN';
      console.log("üîê R√¥le utilisateur :", window.userRole);

      // Fonction pour cacher les menus non autoris√©s
      function applyRoleVisibility() {
          if (window.userRole !== "ROLE_ADMIN") {
              document.querySelectorAll(".admins, .detailA").forEach(el => el.style.display = "none");
          }
      }

      // Ex√©cution au chargement initial
      document.addEventListener("DOMContentLoaded", applyRoleVisibility);
  </script>
</th:block>
